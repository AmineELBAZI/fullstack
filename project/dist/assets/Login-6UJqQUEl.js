import{a as g,r as l,b as x,j as e}from"./index-yrzGcrsz.js";const f=()=>{const{login:i,error:r,loading:n}=g(),[c,u]=l.useState(""),[a,d]=l.useState(""),t=x();l.useEffect(()=>{const s=localStorage.getItem("user");if(s){const o=JSON.parse(s);o.role==="ADMIN"?t("/stocks"):o.role==="VENDEUR"&&t("/mon-stock")}},[t]);const m=async()=>{if(await i(c,a)){localStorage.setItem("password",a);const o=JSON.parse(localStorage.getItem("user"));o.role==="ADMIN"?t("/stocks"):o.role==="VENDEUR"&&t("/mon-stock")}else alert("Login failed. Please check your credentials.")};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"Logo StockPro",className:"h-24 w-auto mb-3"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Bienvenue sur StockPro"}),e.jsx("p",{className:"text-gray-600 text-sm text-center mt-1",children:"SystÃ¨me de gestion multi-points de vente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Email ou nom d'utilisateur",value:c,onChange:s=>u(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"password",placeholder:"Mot de passe",value:a,onChange:s=>d(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:m,disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition duration-200",children:n?"Connexion...":"Se connecter"}),r&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:r})]})]})})};export{f as default};
